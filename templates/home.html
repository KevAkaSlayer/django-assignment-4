{% extends "base.html" %}

{% block content  %}

<div class="d-flex flex-wrap justify-content-center px-5 pt-5">

  {% for task in data %}

  <div class="col-sm-4">
    <div class="card mx-2">
      <div  class="card-body">
        <h5 class="card-title">{{task.title}}</h5>
        <p class="card-text"> {{task.description | truncatechars:100 }}   </p>
        <h5>Assigned Date : {{task.assign_date}}</h5>
        <div class="mt-3 d-flex gap-2  ">
        <h5 >Categories:</h5>
        {% for cat in task.category.all %}

        <button class ="btn btn-primary"> {{cat.name}} </button>

        {% endfor %}
    </div>
        <br>
        
        {% if not task.is_completed %}

        <div class='d-flex gap-3  mt-3  '>
        <a class="btn btn-warning " href="{% url 'edit_task' task.id %}"> Edit </a>
        <a class="btn btn-danger " href="{% url 'delete_task' task.id %}"> Delete </a> 
        <a class="btn btn-success " href="{% url 'completed' task.id %}"> Mark Completed </a> 


        </div>

        

       

        {% else %}
            <button class="btn btn-large btn-success p-2   ">Completed</button>

      
        
        {% endif %}

        


      </div>
    </div>
  </div>


  {% endfor %}
    

  </div>







 {% endblock content %}